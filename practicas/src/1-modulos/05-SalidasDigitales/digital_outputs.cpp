/*******************************************************************************************************************************//**
 *
 * @file		DigitalOutputs.cpp
 * @brief		Descripcion del modulo
 * @date		12 jul. 2022
 * @author		Ing. Marcelo Trujillo
 *
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** INCLUDES
 **********************************************************************************************************************************/
#include "digital_outputs.h"

/***********************************************************************************************************************************
 *** DEFINES PRIVADOS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** MACROS PRIVADAS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** TIPOS DE DATOS PRIVADOS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** TABLAS PRIVADAS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** VARIABLES GLOBALES PUBLICAS
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** VARIABLES GLOBALES PRIVADAS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** IMPLEMENTACION DE LOS METODODS DE LA CLASE
 **********************************************************************************************************************************/
DigitalOutputs::DigitalOutputs( uint8_t puerto , uint8_t bit , uint8_t modo , uint8_t actividad , uint8_t estado ):
					Gpio( puerto , bit , modo , Gpio::OUTPUT , actividad )
{
	m_bufferOutputs = estado;
	SetDirOutputs( );
	InstalarPerifericoTemporizado(this);
}

int8_t DigitalOutputs::set ( void )
{
	m_bufferOutputs = ON ;
	return OK;
}

int8_t DigitalOutputs::clr ( void )
{
	m_bufferOutputs =  OFF ;
	return OK;
}


DigitalOutputs& DigitalOutputs::operator= ( uint8_t estado )
{
	m_bufferOutputs =  estado ;
	return *this;
}

void DigitalOutputs::HandlerDelPeriferico ( void )
{
	if ( m_bufferOutputs )
		SetPin( );
	else
		ClrPin( );
}
